"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9800],{34451:function(e,t,n){var o=n(51541),r=n(77833),s=n(41564),a=n(9226),i=n(29810),c=n(87240),f=n(88292),h=n(44689),l=n(12185),g=n(23986),u=n(66267),w=n(16235);const d=new l.A({source:new a.A({layer:"stamen_toner"})}),m=new s.A({layers:[d],target:"map",view:new c.Ay({center:[-11e6,46e5],zoom:2})}),y=new f.Ay({stroke:new h.A({color:"#EAE911",width:2})}),A=new i.A({attributions:'Flight data by <a href="https://openflights.org/data.html">OpenFlights</a>,',loader:function(){fetch("data/openflights/flights.json").then((function(e){return e.json()})).then((function(e){const t=e.flights;for(let e=0;e<t.length;e++){const n=t[e],s=n[0],a=n[1],i=new arc.GreatCircle({x:s[1],y:s[0]},{x:a[1],y:a[0]}).Arc(100,{offset:10}),c=[];i.geometries.forEach((function(e){const t=new r.A(e.coords);t.transform("EPSG:4326","EPSG:3857"),c.push(new o.A({geometry:t,finished:!1}))})),C(c,50*e)}d.on("postrender",E)}))}}),p=new g.A({source:A,style:function(e){return e.get("finished")?y:null}});m.addLayer(p);const G=.02;function E(e){const t=(0,u.r2)(e),n=e.frameState;t.setStyle(y);const o=A.getFeatures();for(let e=0;e<o.length;e++){const s=o[e];if(!s.get("finished")){const e=s.getGeometry().getCoordinates(),o=n.time-s.get("start");if(o>=0){const n=o*G;n>=e.length&&s.set("finished",!0);const a=Math.min(n,e.length),i=new r.A(e.slice(0,a)),c=(0,w.RG)(m.getView().getProjection().getExtent()),f=Math.floor(m.getView().getCenter()[0]/c);i.translate(f*c,0),t.drawGeometry(i),i.translate(c,0),t.drawGeometry(i)}}}m.render()}function C(e,t){window.setTimeout((function(){let t=Date.now();e.forEach((function(e){e.set("start",t),A.addFeature(e);const n=(e.getGeometry().getCoordinates().length-1)/G;t+=n}))}),t)}}},function(e){var t;t=34451,e(e.s=t)}]);
//# sourceMappingURL=flight-animation.js.map