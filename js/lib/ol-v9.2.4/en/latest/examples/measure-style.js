"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5745],{28876:function(e,t,n){var o=n(41564),r=n(87240),a=n(88292),i=n(38276),l=n(44689),c=n(21133),s=n(59194),g=n(28656),u=n(74676),w=n(9444),A=n(77833),d=n(40878),f=n(28e3),m=n(29810),b=n(12185),y=n(23986),h=n(7074);const p=document.getElementById("type"),x=document.getElementById("segments"),k=document.getElementById("clear"),v=new a.Ay({fill:new i.A({color:"rgba(255, 255, 255, 0.2)"}),stroke:new l.A({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new c.A({radius:5,stroke:new l.A({color:"rgba(0, 0, 0, 0.7)"}),fill:new i.A({color:"rgba(255, 255, 255, 0.2)"})})}),C=new a.Ay({text:new s.A({font:"14px Calibri,sans-serif",fill:new i.A({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new i.A({color:"rgba(0, 0, 0, 0.7)"}),padding:[3,3,3,3],textBaseline:"bottom",offsetY:-15}),image:new g.A({radius:8,points:3,angle:Math.PI,displacement:[0,10],fill:new i.A({color:"rgba(0, 0, 0, 0.7)"})})}),I=new a.Ay({text:new s.A({font:"12px Calibri,sans-serif",fill:new i.A({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new i.A({color:"rgba(0, 0, 0, 0.4)"}),padding:[2,2,2,2],textAlign:"left",offsetX:15})}),P=new a.Ay({image:new c.A({radius:5,stroke:new l.A({color:"rgba(0, 0, 0, 0.7)"}),fill:new i.A({color:"rgba(0, 0, 0, 0.4)"})}),text:new s.A({text:"Drag to modify",font:"12px Calibri,sans-serif",fill:new i.A({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new i.A({color:"rgba(0, 0, 0, 0.7)"}),padding:[2,2,2,2],textAlign:"left",offsetX:15})}),T=new a.Ay({text:new s.A({font:"12px Calibri,sans-serif",fill:new i.A({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new i.A({color:"rgba(0, 0, 0, 0.4)"}),padding:[2,2,2,2],textBaseline:"bottom",offsetY:-12}),image:new g.A({radius:6,points:3,angle:Math.PI,displacement:[0,8],fill:new i.A({color:"rgba(0, 0, 0, 0.4)"})})}),G=[T],M=function(e){const t=(0,h.R3)(e);let n;return n=t>100?Math.round(t/1e3*100)/100+" km":Math.round(100*t)/100+" m",n},B=function(e){const t=(0,h.UG)(e);let n;return n=t>1e4?Math.round(t/1e6*100)/100+" km²":Math.round(100*t)/100+" m²",n},F=new b.A({source:new f.A}),E=new m.A,S=new u.A({source:E,style:P});let D;function L(e,t,n,o){const r=[],a=e.getGeometry(),i=a.getType();let l,c,s;if(n&&n!==i&&"Point"!==i||(r.push(v),"Polygon"===i?(l=a.getInteriorPoint(),c=B(a),s=new A.A(a.getCoordinates()[0])):"LineString"===i&&(l=new d.A(a.getLastCoordinate()),c=M(a),s=a)),t&&s){let e=0;s.forEachSegment((function(t,n){const o=new A.A([t,n]),a=M(o);G.length-1<e&&G.push(T.clone());const i=new d.A(o.getCoordinateAt(.5));G[e].setGeometry(i),G[e].getText().setText(a),r.push(G[e]),e++}))}return c&&(C.setGeometry(l),C.getText().setText(c),r.push(C)),o&&"Point"===i&&!S.getOverlay().getSource().getFeatures().length&&(D=a,I.getText().setText(o),r.push(I)),r}const O=new y.A({source:E,style:function(e){return L(e,x.checked)}}),X=new o.A({layers:[F,O],target:"map",view:new r.Ay({center:[-11e6,46e5],zoom:15})});let Y;function z(){const e=p.value,t="Click to continue drawing the "+("Polygon"===e?"polygon":"line"),n="Click to start measuring";let o=n;Y=new w.Ay({source:E,type:e,style:function(t){return L(t,x.checked,e,o)}}),Y.on("drawstart",(function(){k.checked&&E.clear(),S.setActive(!1),o=t})),Y.on("drawend",(function(){P.setGeometry(D),S.setActive(!0),X.once("pointermove",(function(){P.setGeometry()})),o=n})),S.setActive(!0),X.addInteraction(Y)}X.addInteraction(S),p.onchange=function(){X.removeInteraction(Y),z()},z(),x.onchange=function(){O.changed(),Y.getOverlay().changed()}}},function(e){var t;t=28876,e(e.s=t)}]);
//# sourceMappingURL=measure-style.js.map