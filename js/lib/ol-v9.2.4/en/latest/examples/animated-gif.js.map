{"version":3,"file":"animated-gif.js","mappings":"4MAQA,MAAMA,EAAc,IAAI,IAAQ,CAC9BC,SAAU,IAAI,IAAM,CAAC,EAAG,MAGpBC,EAAe,IAAI,IAAa,CACpCC,SAAU,CAACH,KAGPI,EAAc,IAAI,IAAY,CAClCC,OAAQH,IAGJI,EAAc,IAAI,IAAU,CAChCD,OAAQ,IAAI,IAAW,CACrBE,MAAO,mBAILC,EAAM,IAAI,IAAI,CAClBC,OAAQ,CAACH,EAAaF,GACtBM,OAAQC,SAASC,eAAe,OAChCC,KAAM,IAAI,KAAK,CACbC,OAAQ,CAAC,EAAG,GACZC,KAAM,MAKEC,OADG,kBAEXC,OACFN,SAASO,cAAc,WACvB,SAAUC,EAAKC,GACRpB,EAAYqB,YACfrB,EAAYsB,SACV,IAAI,KAAM,CACRC,MAAO,IAAI,IAAK,CACdC,IAAKL,EAAIM,OACTC,QAAS,QAKjBP,EAAIQ,UAAU,EAAG,EAAGP,EAAMQ,MAAOR,EAAMS,QACvCV,EAAIW,UAAUV,EAAMW,OAAQX,EAAMY,EAAGZ,EAAMa,GAC3CzB,EAAI0B,QACN,IACA,GAIF1B,EAAI2B,GAAG,eAAe,SAAUC,GAC9B,MAAMC,EAAQ7B,EAAI8B,cAAcF,EAAEG,eAC5BC,EAAMhC,EAAIiC,kBAAkBJ,GAClC7B,EAAIkC,YAAYC,MAAMC,OAASJ,EAAM,UAAY,EACnD,G","sources":["webpack:///./animated-gif.js"],"sourcesContent":["import Feature from '../src/ol/Feature.js';\nimport Map from '../src/ol/Map.js';\nimport Point from '../src/ol/geom/Point.js';\nimport View from '../src/ol/View.js';\nimport {Icon, Style} from '../src/ol/style.js';\nimport {StadiaMaps, Vector as VectorSource} from '../src/ol/source.js';\nimport {Tile as TileLayer, Vector as VectorLayer} from '../src/ol/layer.js';\n\nconst iconFeature = new Feature({\n  geometry: new Point([0, 0]),\n});\n\nconst vectorSource = new VectorSource({\n  features: [iconFeature],\n});\n\nconst vectorLayer = new VectorLayer({\n  source: vectorSource,\n});\n\nconst rasterLayer = new TileLayer({\n  source: new StadiaMaps({\n    layer: 'stamen_toner',\n  }),\n});\n\nconst map = new Map({\n  layers: [rasterLayer, vectorLayer],\n  target: document.getElementById('map'),\n  view: new View({\n    center: [0, 0],\n    zoom: 2,\n  }),\n});\n\nconst gifUrl = 'data/globe.gif';\nconst gif = gifler(gifUrl);\ngif.frames(\n  document.createElement('canvas'),\n  function (ctx, frame) {\n    if (!iconFeature.getStyle()) {\n      iconFeature.setStyle(\n        new Style({\n          image: new Icon({\n            img: ctx.canvas,\n            opacity: 0.8,\n          }),\n        }),\n      );\n    }\n    ctx.clearRect(0, 0, frame.width, frame.height);\n    ctx.drawImage(frame.buffer, frame.x, frame.y);\n    map.render();\n  },\n  true,\n);\n\n// change mouse cursor when over icon\nmap.on('pointermove', function (e) {\n  const pixel = map.getEventPixel(e.originalEvent);\n  const hit = map.hasFeatureAtPixel(pixel);\n  map.getTarget().style.cursor = hit ? 'pointer' : '';\n});\n"],"names":["iconFeature","geometry","vectorSource","features","vectorLayer","source","rasterLayer","layer","map","layers","target","document","getElementById","view","center","zoom","gifler","frames","createElement","ctx","frame","getStyle","setStyle","image","img","canvas","opacity","clearRect","width","height","drawImage","buffer","x","y","render","on","e","pixel","getEventPixel","originalEvent","hit","hasFeatureAtPixel","getTarget","style","cursor"],"sourceRoot":""}