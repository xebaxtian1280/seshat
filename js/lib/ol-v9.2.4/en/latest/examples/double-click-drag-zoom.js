"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3474],{27067:function(e,t,n){var i=n(41564),s=n(28e3),o=n(12185),a=n(87240),l=n(35947),h=n(8860),r=n(25309);class d extends h.Ay{constructor(e){const t=e||{};super(t),t.stopDown&&(this.stopDown=t.stopDown),this.scaleDeltaByPixel_=t.delta?t.delta:.01,this.duration_=void 0!==t.duration?t.duration:250,this.handlingDownUpSequence_=!1,this.handlingDoubleDownSequence_=!1,this.doubleTapTimeoutId_=void 0,this.trackedPointers_={},this.targetPointers=[]}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence_){if(e.type==r.A.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==r.A.POINTERUP){const t=this.handleUpEvent(e);this.handlingDownUpSequence_=t}}else if(e.type==r.A.POINTERDOWN)if(this.handlingDoubleDownSequence_){this.handlingDoubleDownSequence_=!1;const n=this.handleDownEvent(e);this.handlingDownUpSequence_=n,t=this.stopDown(n)}else t=this.stopDown(!1),this.waitForDblTap_();return!t}handleDragEvent(e){let t=1;const n=this.targetPointers[0],i=this.down_.originalEvent,s=n.clientY-i.clientY;void 0!==this.lastDistance_&&(t=1-(this.lastDistance_-s)*this.scaleDeltaByPixel_),this.lastDistance_=s,1!=t&&(this.lastScaleDelta_=t);const o=e.map,a=o.getView();o.render(),a.adjustResolutionInternal(t)}handleDownEvent(e){if(1==this.targetPointers.length){const t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.down_=e,this.handlingDownUpSequence_||t.getView().beginInteraction(),!0}return!1}handleUpEvent(e){if(0==this.targetPointers.length){const t=e.map.getView(),n=this.lastScaleDelta_>1?1:-1;return t.endInteraction(this.duration_,n),this.handlingDownUpSequence_=!1,this.handlingDoubleDownSequence_=!1,!1}return!0}stopDown(e){return e}updateTrackedPointers_(e){if(function(e){const t=e.type;return t===r.A.POINTERDOWN||t===r.A.POINTERDRAG||t===r.A.POINTERUP}(e)){const t=e.originalEvent,n=t.pointerId.toString();e.type==r.A.POINTERUP?delete this.trackedPointers_[n]:(e.type==r.A.POINTERDOWN||n in this.trackedPointers_)&&(this.trackedPointers_[n]=t),this.targetPointers=Object.values(this.trackedPointers_)}}waitForDblTap_(){void 0!==this.doubleTapTimeoutId_?(clearTimeout(this.doubleTapTimeoutId_),this.doubleTapTimeoutId_=void 0):(this.handlingDoubleDownSequence_=!0,this.doubleTapTimeoutId_=setTimeout(this.endInteraction_.bind(this),250))}endInteraction_(){this.handlingDoubleDownSequence_=!1,this.doubleTapTimeoutId_=void 0}}var u=d;new i.A({interactions:(0,l.N)().extend([new u]),layers:[new o.A({source:new s.A})],target:"map",view:new a.Ay({center:[0,0],zoom:2})})}},function(e){var t;t=27067,e(e.s=t)}]);
//# sourceMappingURL=double-click-drag-zoom.js.map